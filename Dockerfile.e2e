FROM cypress/included:9.7.0

COPY apps/user-office-frontend-e2e/cypress.json .
COPY apps/user-office-frontend-e2e/package* .
COPY apps/user-office-frontend-e2e/tsconfig.json .
COPY apps/user-office-frontend-e2e/wait-for-frontend.sh .
COPY apps/user-office-frontend-e2e/cypress ./cypress/
COPY --chmod=755 apps/user-office-frontend-e2e/wait-for-frontend.sh .

COPY apps/user-office-frontend/src/generated ../user-office-frontend/src/generated

RUN npm ci

ENTRYPOINT ["npm", "run", "cy:run"]